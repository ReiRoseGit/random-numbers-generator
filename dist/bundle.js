(()=>{let e=document.getElementById("formElem"),s=document.getElementById("exampleCheck1"),t=document.getElementsByClassName("result__element"),a=new WebSocket("ws://localhost:3000/ws");function l(e,s){e<1&&s<1?(bound.classList.add("is-invalid"),flows.classList.add("is-invalid")):e<1||isNaN(parseInt(e))?bound.classList.add("is-invalid"):flows.classList.add("is-invalid")}a.onmessage=function(e){if(e.data.includes("time")){let s=JSON.parse(e.data);t[1].getElementsByClassName("result__data")[0].innerHTML=s.sorted_numbers,t[2].getElementsByClassName("result__data")[0].innerHTML=s.time+"ns"}else t[0].getElementsByClassName("result__data")[0].innerHTML+=e.data+" "},e.onsubmit=async n=>{n.preventDefault();let d=document.getElementById("bound"),i=document.getElementById("flows");if(d.classList.remove("is-invalid"),i.classList.remove("is-invalid"),s.checked)d.value>0&&i.value>0?(t[0].getElementsByClassName("result__data")[0].innerHTML="",t[1].getElementsByClassName("result__data")[0].innerHTML="",t[2].getElementsByClassName("result__data")[0].innerHTML="",a.send(d.value),a.send(i.value)):l(d.value,i.value);else if(d.value>0&&i.value>0){let s=await fetch("/numbers",{method:"POST",body:new FormData(e)}),a=await s.json();t[0].getElementsByClassName("result__data")[0].innerHTML=a.unsorted_numbers,t[1].getElementsByClassName("result__data")[0].innerHTML=a.sorted_numbers,t[2].getElementsByClassName("result__data")[0].innerHTML=a.time+" ns"}else l(d.value,i.value)}})();